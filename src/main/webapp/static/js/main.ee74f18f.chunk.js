(this.webpackJsonpreact_security=this.webpackJsonpreact_security||[]).push([[0],{21:function(e,t,n){e.exports=n(32)},26:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(15),r=n.n(o),c=(n(26),n(20)),i=n(7),u=n(5),m=n(16),s=n(17),p="https://sandersolutions.dk/ca3_backend";function E(e){return e.ok?e.json():Promise.reject({status:e.status,fullError:e.json()})}new(function(){function e(){var t=this;Object(m.a)(this,e),this.setToken=function(e){localStorage.setItem("jwtToken",e)},this.getToken=function(){return localStorage.getItem("jwtToken")},this.loggedIn=function(){return console.log("loggedIn func"),null!=t.getToken()},this.logout=function(){localStorage.removeItem("jwtToken")},this.login=function(e,n){console.log("user, pass",e,n);var a=t.makeOptions("POST",!0,{username:e,password:n});return fetch(p+"/api/login",a).then(E).then((function(e){t.setToken(e.token)})).catch((function(e){throw e}))},this.getRole=function(){var e=localStorage.getItem("jwtToken").split(".")[1],t=window.atob(e);return JSON.parse(t).roles},this.fetchSW=function(){console.log("fetchSW");var e=t.makeOptions("GET",!0);return fetch(p+"/api/sw/datadto",e).then(E)},this.fetchData=function(){console.log("fetchData");var e=t.makeOptions("GET",!0);return"admin"===t.getRole()?fetch(p+"/api/info/admin",e).then(E):fetch(p+"/api/info/user",e).then(E)}}return Object(s.a)(e,[{key:"makeOptions",value:function(e,t,n){console.log("makeOptions");var a={method:e,headers:{"Content-type":"application/json",Accept:"application/json"}};return t&&this.loggedIn()&&(a.headers["x-access-token"]=this.getToken()),n&&(a.body=JSON.stringify(n)),console.log("opts",a),a}}]),e}());var g=function(){return console.log("Home"),l.a.createElement("div",null,l.a.createElement("p",null,"HOOOOOOME"))};var f=function(e){var t=e.teamName;return console.log("Team"),l.a.createElement("div",null,l.a.createElement("p",null,"Teeeaaaam"),l.a.createElement("p",null,"Chosen Team = ",t.teamName),l.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/en/5/53/Arsenal_FC.svg"}))};var h=function(e){var t=e.teamName;return console.log("UserInfo"),console.log("teamName",t.teamName),l.a.createElement("div",null,l.a.createElement("p",null,"UserInfo"),t.teamName)};var d=function(){return console.log("AllAboutTeam"),l.a.createElement("div",null,l.a.createElement("p",null,"AllAboutTeam"),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/userinfo"},"DATA")))},v=n(12);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var b=function(e){var t=e.teamName,n=e.updateTeamName;console.log("Search"),console.log("teamName",t);return l.a.createElement("div",null,l.a.createElement("p",null,"Searching "),l.a.createElement("select",{onChange:function(e){console.log("handleChange");var a=e.target,l=e.target.id;console.log("target.value",a.value),n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,Object(v.a)({},l,a.value))),console.log("teamName",t)},id:"teamName"},l.a.createElement("option",{disabled:!0,selected:!0,value:!0}," - select a team - "),["team1","team2","team3"].map((function(e){return l.a.createElement("option",null,e)})),";"))};var k=function(){return console.log("Api"),l.a.createElement("div",null,l.a.createElement("h3",null,"endpoints"),l.a.createElement("p",null,l.a.createElement("strong",null,"All")," "),l.a.createElement("ul",null,l.a.createElement("li",null,"/api/info "),l.a.createElement("li",null,"/api/info/all "),l.a.createElement("li",null,"/api/login "),l.a.createElement("li",null,"/api/info/fill ")),l.a.createElement("p",null,l.a.createElement("strong",null,"City")," "),l.a.createElement("ul",null,l.a.createElement("li",null,"/api/city "),l.a.createElement("li",null,"/api/city/cities ")),l.a.createElement("p",null,l.a.createElement("strong",null,"Match")," "),l.a.createElement("ul",null,l.a.createElement("li",null,"/api/match "),l.a.createElement("li",null,"/api/match/city --\x3e ie city = Liverpool ")),l.a.createElement("p",null,l.a.createElement("strong",null,"User")," "),l.a.createElement("ul",null,l.a.createElement("li",null,"/api/info/user ")),l.a.createElement("p",null,l.a.createElement("strong",null,"Admin")," "),l.a.createElement("ul",null,l.a.createElement("li",null,"/api/info/user "),l.a.createElement("li",null,"/api/info/admin ")))};function j(){return console.log("Header"),l.a.createElement("div",null,l.a.createElement("ul",{className:"header"},l.a.createElement("li",null,l.a.createElement(i.c,{exact:!0,activeClassName:"active",to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(i.c,{exact:!0,activeClassName:"active",to:"/api"},"Api"))))}function y(){return console.log("NoMatch"),l.a.createElement("div",null,"Hello NoMatch")}var N=function(){console.log("App");var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],o=t[1];return console.log("teamName",n),l.a.createElement("div",null,l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(j,null),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/"},l.a.createElement(g,null)),l.a.createElement(u.a,{exact:!0,path:"/api"},l.a.createElement(k,null))),l.a.createElement(d,null),l.a.createElement(b,{teamName:n,updateTeamName:function(e){console.log("index",e),o(e)}}),l.a.createElement(f,{teamName:n}),l.a.createElement(h,{teamName:n}),l.a.createElement(u.a,{component:y}))))};r.a.render(l.a.createElement(N,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.ee74f18f.chunk.js.map