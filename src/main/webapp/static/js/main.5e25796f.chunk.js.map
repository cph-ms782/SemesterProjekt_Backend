{"version":3,"sources":["settings.js","components/loginFacade.js","components/Home.js","components/Team.js","components/UserInfo.js","components/AllAboutTeam.js","components/Search.js","App.js","index.js"],"names":["URL","handleHttpErrors","res","ok","json","Promise","reject","status","fullError","setToken","token","localStorage","setItem","getToken","getItem","loggedIn","console","log","logout","removeItem","login","user","pass","options","makeOptions","username","password","fetch","then","catch","err","getRole","jwtData","split","decodedJwtJsonData","window","atob","JSON","parse","roles","fetchSW","fetchData","method","addToken","body","opts","headers","this","stringify","Home","href","alt","src","Team","teamName","UserInfo","AllAboutTeam","to","Search","updateTeamName","onChange","evt","target","id","value","disabled","selected","map","team","Header","className","exact","activeClassName","NoMatch","App","useState","setTeamName","path","component","index","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5e25796f.chunk.js","sourcesContent":["const URL = \"https://sandersolutions.dk/ca3_backend\";\n//const URL = \"https://localhost:8080/ca3_backend\";\n\nexport default URL;","import URL from \"../settings\";\n\nfunction handleHttpErrors(res) {\n  if (!res.ok) {\n    return Promise.reject({ status: res.status, fullError: res.json() });\n  }\n  return res.json();\n}\n\nclass LoginFacade {\n  setToken = token => {\n    localStorage.setItem(\"jwtToken\", token);\n  };\n  getToken = () => {\n    return localStorage.getItem(\"jwtToken\");\n  };\n  loggedIn = () => {\n    console.log(\"loggedIn func\");\n    const loggedIn = this.getToken() != null;\n    return loggedIn;\n  };\n  logout = () => {\n    localStorage.removeItem(\"jwtToken\");\n  };\n  login = (user, pass) => {\n    console.log(\"user, pass\", user, pass)\n    const options = this.makeOptions(\"POST\", true, {\n      username: user,\n      password: pass\n    });\n    return fetch(URL + \"/api/login\", options)\n      .then(handleHttpErrors)\n      .then(res => {\n        this.setToken(res.token);\n      })\n      .catch(err => { throw err });\n  };\n\n  getRole = () => {\n    let jwt = localStorage.getItem(\"jwtToken\");\n    let jwtData = jwt.split(\".\")[1];\n    let decodedJwtJsonData = window.atob(jwtData);\n    let decodedJwtData = JSON.parse(decodedJwtJsonData);\n    return decodedJwtData.roles;\n  };\n\n  makeOptions(method, addToken, body) {\n    console.log(\"makeOptions\");\n    var opts = {\n      method: method,\n      headers: {\n        \"Content-type\": \"application/json\",\n        'Accept': \"application/json\"\n      }\n    };\n    if (addToken && this.loggedIn()) {\n      opts.headers[\"x-access-token\"] = this.getToken();\n    }\n    if (body) {\n      opts.body = JSON.stringify(body);\n    }\n    console.log(\"opts\", opts);\n    return opts;\n  }\n\n  fetchSW = () => {\n    console.log(\"fetchSW\");\n    const options = this.makeOptions(\"GET\", true); //True add's the token\n    return fetch(URL + \"/api/sw/datadto\", options).then(handleHttpErrors);\n  }\n\n  fetchData = () => {\n    console.log(\"fetchData\");\n    const options = this.makeOptions(\"GET\", true); //True add's the token\n    if (this.getRole() === \"admin\") {\n      return fetch(URL + \"/api/info/admin\", options).then(handleHttpErrors);\n    } else {\n      return fetch(URL + \"/api/info/user\", options).then(handleHttpErrors);\n    }\n  };\n\n}\nconst facade = new LoginFacade();\nexport default facade;\n","import React from \"react\";\n\nfunction Home() {\n    console.log(\"Home\");\n    return (\n        <div>\n            <p>Master<br />\n                <a href=\"https://travis-ci.org/cph-ms782/SemesterProjekt_Backend\"><img alt=\"Build Status\" src=\"https://travis-ci.org/cph-ms782/SemesterProjekt_Backend.svg?branch=master\" /></a>  </p>\n            <p>Dev<br />\n                <a href=\"https://travis-ci.org/cph-ms782/SemesterProjekt_Backend\"><img alt=\"Build Status\" src=\"https://travis-ci.org/cph-ms782/SemesterProjekt_Backend.svg?branch=dev\" /></a>  </p>\n            <h1>Premier League Matches</h1>\n            <h3>endpoints</h3>\n            <p><strong>All</strong>  </p>\n            <ul>\n                <li>/api/info  </li>\n                <li>/api/info/all  </li>\n                <li>/api/login  </li>\n                <li>/api/info/fill  </li>\n            </ul>\n            <p><strong>City</strong>  </p>\n            <ul>\n                <li>/api/city  </li>\n                <li>/api/city/cities  </li>\n            </ul>\n            <p><strong>Match</strong>  </p>\n            <ul>\n                <li>/api/match  </li>\n                <li>/api/match/city --&gt; ie city = Liverpool  </li>\n            </ul>\n            <p><strong>User</strong>  </p>\n            <ul>\n                <li>/api/info/user  </li>\n            </ul>\n            <p><strong>Admin</strong>  </p>\n            <ul>\n                <li>/api/info/user  </li>\n                <li>/api/info/admin  </li>\n            </ul>\n        </div>\n    )\n}\n\nexport default Home;","import React, { useState } from \"react\";\n\nfunction Team({ teamName }) {\n  console.log(\"Team\");\n  return (\n    <div>\n      <p>Teeeaaaam</p>\n      <p>Chosen Team = {teamName.teamName}</p>\n      <img src=\"https://upload.wikimedia.org/wikipedia/en/5/53/Arsenal_FC.svg\"></img>\n    </div>\n  );\n}\n\nexport default Team;\n","import React from \"react\";\n\nfunction UserInfo({ teamName }) {\n    console.log(\"UserInfo\");\n    console.log(\"teamName\", teamName.teamName);\n    return (\n        <div>\n            <p>UserInfo</p>\n            {teamName.teamName}\n        </div>\n    )\n}\n\nexport default UserInfo;","import React from \"react\";\nimport {\n    Link\n  } from \"react-router-dom\";\n  import UserInfo from \"./UserInfo\";\nfunction AllAboutTeam() {\n    console.log(\"AllAboutTeam\");\n    return (\n        <div>\n            <p>AllAboutTeam</p>\n            <li><Link to=\"/userinfo\">DATA</Link></li>\n        </div>\n    )\n}\n\nexport default AllAboutTeam;","import React, { } from \"react\";\n\nconst Search = ({ teamName, updateTeamName }) => {\n  console.log(\"Search\");\n  console.log(\"teamName\", teamName);\n  const teams = [\"team1\", \"team2\", \"team3\"];\n\n  const handleChange = (evt) => {\n    console.log(\"handleChange\");\n    const target = evt.target;\n    const id = evt.target.id;\n    console.log(\"target.value\", target.value);\n    updateTeamName({ ...teamName, [id]: target.value });\n    console.log(\"teamName\", teamName);\n  }\n\n  return (\n    <div>\n      <p>Searching </p>\n      <select onChange={handleChange} id=\"teamName\">\n        <option disabled selected value> - select a team - </option>\n        {teams.map(team => {\n          return <option>{team}</option>;\n        })};\n        </select>\n    </div >\n  );\n}\n\nexport default Search;\n","import React, { useState } from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  NavLink,\n  Switch\n} from \"react-router-dom\";\nimport facade from \"./components/loginFacade\";\nimport Home from \"./components/Home\";\nimport Team from \"./components/Team\";\nimport AllAboutTeam from \"./components/AllAboutTeam\";\nimport Search from \"./components/Search\";\nimport UserInfo from \"./components/UserInfo\";\n\nfunction App() {\n  console.log(\"App\");\n  const [teamName, setTeamName] = useState(\"\");\n\n\n  const updateTeamName = (index) => {\n    console.log(\"index\", index);\n    setTeamName(index);\n  }\n\n  console.log(\"teamName\", teamName);\n  return (\n    <div>\n      <Router >\n        <div>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\"><Home /></Route>\n            <Route path=\"/allaboutteam\"><AllAboutTeam /></Route>\n            <Route component={NoMatch} />\n          </Switch>\n          <Search\n            teamName={teamName}\n            updateTeamName={updateTeamName}\n          />\n          <Team teamName={teamName} />\n          <UserInfo teamName={teamName} />\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nfunction Header() {\n  console.log(\"Header\");\n  return (\n    <div>\n      <ul className=\"header\">\n        <li><NavLink exact activeClassName=\"active\" to=\"/\">Home</NavLink></li>\n      </ul>\n    </div>\n  )\n}\n\nfunction NoMatch() {\n  console.log(\"NoMatch\");\n  return (\n    <div>\n      Hello NoMatch\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}