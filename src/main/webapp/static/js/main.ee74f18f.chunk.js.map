{"version":3,"sources":["settings.js","components/loginFacade.js","components/Home.js","components/Team.js","components/UserInfo.js","components/AllAboutTeam.js","components/Search.js","components/Api.js","App.js","index.js"],"names":["URL","handleHttpErrors","res","ok","json","Promise","reject","status","fullError","setToken","token","localStorage","setItem","getToken","getItem","loggedIn","console","log","logout","removeItem","login","user","pass","options","makeOptions","username","password","fetch","then","catch","err","getRole","jwtData","split","decodedJwtJsonData","window","atob","JSON","parse","roles","fetchSW","fetchData","method","addToken","body","opts","headers","this","stringify","Home","Team","teamName","src","UserInfo","AllAboutTeam","to","Search","updateTeamName","onChange","evt","target","id","value","disabled","selected","map","team","Api","Header","className","exact","activeClassName","NoMatch","App","useState","setTeamName","path","index","component","ReactDOM","render","document","getElementById"],"mappings":"oQAGeA,EAHH,yCCEZ,SAASC,EAAiBC,GACxB,OAAKA,EAAIC,GAGFD,EAAIE,OAFFC,QAAQC,OAAO,CAAEC,OAAQL,EAAIK,OAAQC,UAAWN,EAAIE,SA8EhD,I,4DAxEbK,SAAW,SAAAC,GACTC,aAAaC,QAAQ,WAAYF,I,KAEnCG,SAAW,WACT,OAAOF,aAAaG,QAAQ,a,KAE9BC,SAAW,WAGT,OAFAC,QAAQC,IAAI,iBACwB,MAAnB,EAAKJ,Y,KAGxBK,OAAS,WACPP,aAAaQ,WAAW,a,KAE1BC,MAAQ,SAACC,EAAMC,GACbN,QAAQC,IAAI,aAAcI,EAAMC,GAChC,IAAMC,EAAU,EAAKC,YAAY,QAAQ,EAAM,CAC7CC,SAAUJ,EACVK,SAAUJ,IAEZ,OAAOK,MAAM3B,EAAM,aAAcuB,GAC9BK,KAAK3B,GACL2B,MAAK,SAAA1B,GACJ,EAAKO,SAASP,EAAIQ,UAEnBmB,OAAM,SAAAC,GAAS,MAAMA,M,KAG1BC,QAAU,WACR,IACIC,EADMrB,aAAaG,QAAQ,YACbmB,MAAM,KAAK,GACzBC,EAAqBC,OAAOC,KAAKJ,GAErC,OADqBK,KAAKC,MAAMJ,GACVK,O,KAsBxBC,QAAU,WACRxB,QAAQC,IAAI,WACZ,IAAMM,EAAU,EAAKC,YAAY,OAAO,GACxC,OAAOG,MAAM3B,EAAM,kBAAmBuB,GAASK,KAAK3B,I,KAGtDwC,UAAY,WACVzB,QAAQC,IAAI,aACZ,IAAMM,EAAU,EAAKC,YAAY,OAAO,GACxC,MAAuB,UAAnB,EAAKO,UACAJ,MAAM3B,EAAM,kBAAmBuB,GAASK,KAAK3B,GAE7C0B,MAAM3B,EAAM,iBAAkBuB,GAASK,KAAK3B,I,wDA/B3CyC,EAAQC,EAAUC,GAC5B5B,QAAQC,IAAI,eACZ,IAAI4B,EAAO,CACTH,OAAQA,EACRI,QAAS,CACP,eAAgB,mBAChB,OAAU,qBAUd,OAPIH,GAAYI,KAAKhC,aACnB8B,EAAKC,QAAQ,kBAAoBC,KAAKlC,YAEpC+B,IACFC,EAAKD,KAAOP,KAAKW,UAAUJ,IAE7B5B,QAAQC,IAAI,OAAQ4B,GACbA,M,MCnDII,MATf,WAEI,OADAjC,QAAQC,IAAI,QAER,6BACI,0CCOGiC,MAXf,YAA6B,IAAbC,EAAY,EAAZA,SAEd,OADAnC,QAAQC,IAAI,QAEV,6BACE,wCACA,4CAAkBkC,EAASA,UAC3B,yBAAKC,IAAI,oECKAC,MAXf,YAAiC,IAAbF,EAAY,EAAZA,SAGhB,OAFAnC,QAAQC,IAAI,YACZD,QAAQC,IAAI,WAAYkC,EAASA,UAE7B,6BACI,uCACCA,EAASA,WCOPG,MAVf,WAEI,OADAtC,QAAQC,IAAI,gBAER,6BACI,2CACA,4BAAI,kBAAC,IAAD,CAAMsC,GAAG,aAAT,W,sOCRhB,IA2BeC,EA3BA,SAAC,GAAkC,IAAhCL,EAA+B,EAA/BA,SAAUM,EAAqB,EAArBA,eAC1BzC,QAAQC,IAAI,UACZD,QAAQC,IAAI,WAAYkC,GAYxB,OACE,6BACE,yCACA,4BAAQO,SAZS,SAACC,GACpB3C,QAAQC,IAAI,gBACZ,IAAM2C,EAASD,EAAIC,OACbC,EAAKF,EAAIC,OAAOC,GACtB7C,QAAQC,IAAI,eAAgB2C,EAAOE,OACnCL,E,yVAAe,CAAD,GAAMN,EAAN,eAAiBU,EAAKD,EAAOE,SAC3C9C,QAAQC,IAAI,WAAYkC,IAMUU,GAAG,YACjC,4BAAQE,UAAQ,EAACC,UAAQ,EAACF,OAAK,GAA/B,uBAfQ,CAAC,QAAS,QAAS,SAgBpBG,KAAI,SAAAC,GACT,OAAO,gCAASA,MAHpB,OCkBSC,MAnCf,WAEI,OADAnD,QAAQC,IAAI,OAER,6BACI,yCACA,2BAAG,uCAAH,KACA,4BACI,0CACA,8CACA,2CACA,gDAEJ,2BAAG,wCAAH,KACA,4BACI,0CACA,kDAEJ,2BAAG,yCAAH,KACA,4BACI,2CACA,4EAEJ,2BAAG,wCAAH,KACA,4BACI,gDAEJ,2BAAG,yCAAH,KACA,4BACI,+CACA,mDCkBhB,SAASmD,IAEP,OADApD,QAAQC,IAAI,UAEV,6BACE,wBAAIoD,UAAU,UACZ,4BAAI,kBAAC,IAAD,CAASC,OAAK,EAACC,gBAAgB,SAAShB,GAAG,KAA3C,SACJ,4BAAI,kBAAC,IAAD,CAASe,OAAK,EAACC,gBAAgB,SAAShB,GAAG,QAA3C,UAMZ,SAASiB,IAEP,OADAxD,QAAQC,IAAI,WAEV,8CAMWwD,MAvDf,WACEzD,QAAQC,IAAI,OADC,MAEmByD,mBAAS,IAF5B,mBAENvB,EAFM,KAEIwB,EAFJ,KAWb,OADA3D,QAAQC,IAAI,WAAYkC,GAEtB,6BACE,kBAAC,IAAD,KACE,6BACE,kBAACiB,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOE,OAAK,EAACM,KAAK,KAAI,kBAAC,EAAD,OACtB,kBAAC,IAAD,CAAON,OAAK,EAACM,KAAK,QAAO,kBAAC,EAAD,QAE3B,kBAAC,EAAD,MACA,kBAAC,EAAD,CACEzB,SAAUA,EACVM,eAlBa,SAACoB,GACtB7D,QAAQC,IAAI,QAAS4D,GACrBF,EAAYE,MAkBN,kBAAC,EAAD,CAAM1B,SAAUA,IAChB,kBAAC,EAAD,CAAUA,SAAUA,IACpB,kBAAC,IAAD,CAAO2B,UAAWN,QCrC5BO,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.ee74f18f.chunk.js","sourcesContent":["const URL = \"https://sandersolutions.dk/ca3_backend\";\n//const URL = \"https://localhost:8080/ca3_backend\";\n\nexport default URL;","import URL from \"../settings\";\n\nfunction handleHttpErrors(res) {\n  if (!res.ok) {\n    return Promise.reject({ status: res.status, fullError: res.json() });\n  }\n  return res.json();\n}\n\nclass LoginFacade {\n  setToken = token => {\n    localStorage.setItem(\"jwtToken\", token);\n  };\n  getToken = () => {\n    return localStorage.getItem(\"jwtToken\");\n  };\n  loggedIn = () => {\n    console.log(\"loggedIn func\");\n    const loggedIn = this.getToken() != null;\n    return loggedIn;\n  };\n  logout = () => {\n    localStorage.removeItem(\"jwtToken\");\n  };\n  login = (user, pass) => {\n    console.log(\"user, pass\", user, pass)\n    const options = this.makeOptions(\"POST\", true, {\n      username: user,\n      password: pass\n    });\n    return fetch(URL + \"/api/login\", options)\n      .then(handleHttpErrors)\n      .then(res => {\n        this.setToken(res.token);\n      })\n      .catch(err => { throw err });\n  };\n\n  getRole = () => {\n    let jwt = localStorage.getItem(\"jwtToken\");\n    let jwtData = jwt.split(\".\")[1];\n    let decodedJwtJsonData = window.atob(jwtData);\n    let decodedJwtData = JSON.parse(decodedJwtJsonData);\n    return decodedJwtData.roles;\n  };\n\n  makeOptions(method, addToken, body) {\n    console.log(\"makeOptions\");\n    var opts = {\n      method: method,\n      headers: {\n        \"Content-type\": \"application/json\",\n        'Accept': \"application/json\"\n      }\n    };\n    if (addToken && this.loggedIn()) {\n      opts.headers[\"x-access-token\"] = this.getToken();\n    }\n    if (body) {\n      opts.body = JSON.stringify(body);\n    }\n    console.log(\"opts\", opts);\n    return opts;\n  }\n\n  fetchSW = () => {\n    console.log(\"fetchSW\");\n    const options = this.makeOptions(\"GET\", true); //True add's the token\n    return fetch(URL + \"/api/sw/datadto\", options).then(handleHttpErrors);\n  }\n\n  fetchData = () => {\n    console.log(\"fetchData\");\n    const options = this.makeOptions(\"GET\", true); //True add's the token\n    if (this.getRole() === \"admin\") {\n      return fetch(URL + \"/api/info/admin\", options).then(handleHttpErrors);\n    } else {\n      return fetch(URL + \"/api/info/user\", options).then(handleHttpErrors);\n    }\n  };\n\n}\nconst facade = new LoginFacade();\nexport default facade;\n","import React from \"react\";\n\nfunction Home() {\n    console.log(\"Home\");\n    return (\n        <div>\n            <p>HOOOOOOME</p>\n        </div>\n    )\n}\n\nexport default Home;","import React, { useState } from \"react\";\n\nfunction Team({ teamName }) {\n  console.log(\"Team\");\n  return (\n    <div>\n      <p>Teeeaaaam</p>\n      <p>Chosen Team = {teamName.teamName}</p>\n      <img src=\"https://upload.wikimedia.org/wikipedia/en/5/53/Arsenal_FC.svg\"></img>\n    </div>\n  );\n}\n\nexport default Team;\n","import React from \"react\";\n\nfunction UserInfo({ teamName }) {\n    console.log(\"UserInfo\");\n    console.log(\"teamName\", teamName.teamName);\n    return (\n        <div>\n            <p>UserInfo</p>\n            {teamName.teamName}\n        </div>\n    )\n}\n\nexport default UserInfo;","import React from \"react\";\nimport {\n    Link\n  } from \"react-router-dom\";\n  import UserInfo from \"./UserInfo\";\nfunction AllAboutTeam() {\n    console.log(\"AllAboutTeam\");\n    return (\n        <div>\n            <p>AllAboutTeam</p>\n            <li><Link to=\"/userinfo\">DATA</Link></li>\n        </div>\n    )\n}\n\nexport default AllAboutTeam;","import React, { } from \"react\";\n\nconst Search = ({ teamName, updateTeamName }) => {\n  console.log(\"Search\");\n  console.log(\"teamName\", teamName);\n  const teams = [\"team1\", \"team2\", \"team3\"];\n\n  const handleChange = (evt) => {\n    console.log(\"handleChange\");\n    const target = evt.target;\n    const id = evt.target.id;\n    console.log(\"target.value\", target.value);\n    updateTeamName({ ...teamName, [id]: target.value });\n    console.log(\"teamName\", teamName);\n  }\n\n  return (\n    <div>\n      <p>Searching </p>\n      <select onChange={handleChange} id=\"teamName\">\n        <option disabled selected value> - select a team - </option>\n        {teams.map(team => {\n          return <option>{team}</option>;\n        })};\n        </select>\n    </div >\n  );\n}\n\nexport default Search;\n","import React from \"react\";\n\nfunction Api() {\n    console.log(\"Api\");\n    return (\n        <div>\n            <h3>endpoints</h3>\n            <p><strong>All</strong> </p>\n            <ul>\n                <li>/api/info </li>\n                <li>/api/info/all </li>\n                <li>/api/login </li>\n                <li>/api/info/fill </li>\n            </ul>\n            <p><strong>City</strong> </p>\n            <ul>\n                <li>/api/city </li>\n                <li>/api/city/cities </li>\n            </ul>\n            <p><strong>Match</strong> </p>\n            <ul>\n                <li>/api/match </li>\n                <li>/api/match/city --&gt; ie city = Liverpool </li>\n            </ul>\n            <p><strong>User</strong> </p>\n            <ul>\n                <li>/api/info/user </li>\n            </ul>\n            <p><strong>Admin</strong> </p>\n            <ul>\n                <li>/api/info/user </li>\n                <li>/api/info/admin </li>\n            </ul>\n        </div>\n    )\n}\n\nexport default Api;","import React, { useState } from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  NavLink,\n  Switch\n} from \"react-router-dom\";\nimport facade from \"./components/loginFacade\";\nimport Home from \"./components/Home\";\nimport Team from \"./components/Team\";\nimport AllAboutTeam from \"./components/AllAboutTeam\";\nimport Search from \"./components/Search\";\nimport UserInfo from \"./components/UserInfo\";\nimport Api from \"./components/Api\";\n\nfunction App() {\n  console.log(\"App\");\n  const [teamName, setTeamName] = useState(\"\");\n\n\n  const updateTeamName = (index) => {\n    console.log(\"index\", index);\n    setTeamName(index);\n  }\n\n  console.log(\"teamName\", teamName);\n  return (\n    <div>\n      <Router >\n        <div>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\"><Home /></Route>\n            <Route exact path=\"/api\"><Api /></Route>\n          </Switch>\n          <AllAboutTeam />\n          <Search\n            teamName={teamName}\n            updateTeamName={updateTeamName}\n          />\n          <Team teamName={teamName} />\n          <UserInfo teamName={teamName} />\n          <Route component={NoMatch} />\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nfunction Header() {\n  console.log(\"Header\");\n  return (\n    <div>\n      <ul className=\"header\">\n        <li><NavLink exact activeClassName=\"active\" to=\"/\">Home</NavLink></li>\n        <li><NavLink exact activeClassName=\"active\" to=\"/api\">Api</NavLink></li>\n      </ul>\n    </div>\n  )\n}\n\nfunction NoMatch() {\n  console.log(\"NoMatch\");\n  return (\n    <div>\n      Hello NoMatch\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}